{% extends 'index3.html' %}

{% block customcss %}
  <style>
    .feedback-box {
      font-size: 1.2rem;
      max-width: 600px;
      margin: 0 auto;
    }
  </style>
{% endblock %}

{% block maincontent %}
  {% if messages %}
    <ul class="messages">
      {% for message in messages %}
        <li class="{{ message.tags }}">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
  <div class="breadcrumbs-area">
    <h3>Feedback & Complaints</h3>
    <ul>
      <li>
        <a href="{% url 'userauth:dashboard' %}">User</a>
      </li>
      <li>Feedback</li>
    </ul>
  </div>
  <!-- Breadcrumbs Area End Here -->

  <div class="row" style="justify-content: center; align-items: center;">
    <!-- Feedback Form Area Start Here -->
    <div style="width: 95%;">
      <div class="card height-auto">
        <div class="card-body">
          <div class="heading-layout1">
            <div class="item-title">
              <h3>Feedback</h3>
            </div>
          </div>

          <!-- Hardcoded Feedback Section -->
          <div class="feedback-list mt-4">
            <h5 class="mb-4" style="text-align: left; color:#707070;">Recent Feedback from Users</h5>
            {% for feedback in feedbacks %}
              <ul id="feedbackList" class="list-group" style="max-width: 600px; margin: 0; padding: 0;">
                <li class="list-group-item" style="border: none; padding: 15px; background: #f9f9f9; border-radius: 10px; margin-bottom: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                  <strong style="color: #007bff;">{{ feedback.user.roll_num }}:&nbsp;</strong>{{ feedback.comments }}
                </li>
              </ul>
            {% endfor %}
          </div>

          <!-- Feedback Form -->
          <div class="text-center mt-5">
            <form method="POST">
              {% csrf_token %}
              {{ form }}
              <button id="submitFeedback" class="btn btn-primary mt-3" style="font-size: 1.4rem; padding: 12px 30px; border-radius: 25px; width: auto;">Submit Feedback</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
